(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d9c2ca"],{"5c98":function(t,n,a){"use strict";a.r(n);var s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"toplist"},[t.kai?t._e():a("div",{staticClass:"toptitle"},[a("h2",[t._v("官方榜")])]),t.kai?t._e():a("ul",t._l(t.topLists,(function(n,s){return a("li",{key:n.id,on:{click:function(a){return t.zhankai(n.id,n.name,n.coverImgUrl)}}},[a("div",{staticClass:"left"},[a("img",{attrs:{src:n.coverImgUrl,alt:""}})]),a("div",{staticClass:"right",style:{background:"url("+n.coverImgUrl+")",backgroundPosition:" 0% 0%",opacity:.7}},[t.qianSanSongs[s]?a("ul",[a("li",{staticClass:"updataTime"},[t._v(t._s(n.updateFrequency))]),t._l(t.qianSanSongs[s].songs,(function(n,s){return a("li",{key:n.id,staticClass:"songs"},[t._v(" "+t._s(s+1)+"."+t._s(n.name)+" "),a("span",{staticClass:"ar"},[t._v(" - "+t._s(n.ar[0].name))])])}))],2):t._e()])])})),0),a("transition",{attrs:{"enter-active-class":"animate__animated animate__backInLeft","leave-active-class":"animate__animated animate__backOutUp"}},[t.kai?a("bandan-music",{staticClass:"bang",attrs:{bangName:t.bangName,topSong:t.topSong,topListbg:t.topListbg,newBangComments:t.newBangComments},on:{playAll:t.playAll,play:function(n){return t.$emit("play",n)},backbtn:t.backbtn}}):t._e()],1)],1)},e=[],i=a("1da1"),o=(a("96cf"),function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"bandan-music"},[s("div",{staticClass:"bantop",style:{backgroundImage:"url("+t.topListbg+")"}},[s("img",{staticClass:"backbtn",attrs:{src:a("56cf"),alt:""},on:{click:t.backbtn}}),s("img",{staticClass:"pic",attrs:{src:t.topListbg,alt:""}}),s("h2",[t._v(t._s(t.bangName))]),s("div",{staticClass:"playAll",on:{click:t.playAll}},[t._v("播放全部")])]),s("div",{staticClass:"banglist"},[t._v("歌曲列表")]),t.topSong.length<1?s("div",{style:{height:"25px"}},[t.topSong.length<1?s("my-load"):t._e()],1):t._e(),t._l(t.topSong,(function(n,a){return s("div",{key:n.id,staticClass:"song"},[s("div",{staticClass:"num"},[t._v(" "+t._s(a+1)+" ")]),s("music-list",{staticClass:"list",attrs:{songIfa:n},on:{play:function(n){return t.$emit("play",n)}}})],1)})),s("div",{staticClass:"banglist"},[t._v("最新评论")]),t.newBangComments.length<1?s("my-load"):t._e(),s("ul",t._l(t.newBangComments,(function(t,n){return s("li",{key:n},[s("new-comment",{attrs:{news:t}})],1)})),0)],2)}),r=[],c=a("f382"),l=a("ff65"),u=a("4618"),g={components:{MusicList:c["a"],NewComment:l["a"],MyLoad:u["a"]},props:{topSong:Array,bangName:String,topListbg:String,newBangComments:Array},data:function(){return{topSong1:[]}},created:function(){this.topSong1=this.topSong},methods:{playAll:function(){this.$emit("playAll",this.topSong)},backbtn:function(){this.$emit("backbtn")}}},p=g,m=(a("8568"),a("2877")),f=Object(m["a"])(p,o,r,!1,null,"0a0f85e2",null),d=f.exports,b={components:{BandanMusic:d},props:{},data:function(){return{topLists:[],topListSongs:{},kai:!1,bangName:"",topSong:[],topListDetail:[],qianSanSongs:[],topListbg:"",newBangComments:[]}},methods:{comments:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.axios.get("/comment/playlist?id=".concat(t,"&limit=10"));case 2:s=a.sent,n.newBangComments=s.data.comments;case 4:case"end":return a.stop()}}),a)})))()},playAll:function(t){this.$emit("playAll",t)},backbtn:function(){this.kai=!this.kai,this.$emit("zhankai",!this.kai)},zhankai:function(t,n,a){this.kai=!this.kai,this.newBangComments=[],this.topSong=[],this.getTopListSongs(t),this.bangName=n,this.topListbg=a,this.comments(t),this.$emit("zhankai",!this.kai)},getTopList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.axios.get("/toplist");case 2:a=n.sent,t.topLists=a.data.list,s=0;case 5:if(!(s<t.topLists.length)){n.next=11;break}return n.next=8,t.getqianSan(t.topLists[s].id);case 8:s++,n.next=5;break;case 11:case"end":return n.stop()}}),n)})))()},getTopListSongs:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,e,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.axios.get("/playlist/track/all?id=".concat(t,"&limit=30"));case 2:for(s=a.sent,n.topListSongs=s.data,n.topSong=n.topListSongs.songs,e=0;e<n.topSong.length;e++)n.topSong[e]["maxbr"]=n.topListSongs.privileges[e].maxbr;return a.next=8,n.axios.get("/toplist/detail?id=".concat(t));case 8:i=a.sent,n.topListDetail=i.data;case 10:case"end":return a.stop()}}),a)})))()},getqianSan:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.axios.get("/playlist/track/all?id=".concat(t,"&limit=3"));case 2:s=a.sent,n.qianSanSongs.push(s.data);case 4:case"end":return a.stop()}}),a)})))()}},created:function(){this.getTopList()}},h=b,v=(a("e4d4"),Object(m["a"])(h,s,e,!1,null,"7a6c85a3",null));n["default"]=v.exports},8568:function(t,n,a){"use strict";a("be56")},"8e27":function(t,n,a){},b51a:function(t,n,a){},be56:function(t,n,a){},e4d4:function(t,n,a){"use strict";a("b51a")},f382:function(t,n,a){"use strict";var s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"musics"}},[a("ul",[a("li",{on:{click:function(n){return t.play(t.songIfa)}}},[a("div",[a("div",{staticClass:"left"},[a("div",[t._v(t._s(t.songIfa.name)),t._l(t.songIfa.alia,(function(n){return a("span",{key:n.id,style:{color:"#999"}},[t._v("("+t._s(n)+")")])}))],2),a("div",[(t.songIfa.maxbr||t.songIfa.song.privilege.maxbr)>32e4?a("span",{staticClass:"sq"}):t._e(),t._l(t.songIfa.ar||t.songIfa.song.artists,(function(n,s){return a("span",{key:n.id,staticClass:"right-art"},[s%2==1?a("span",[t._v("-")]):t._e(),t._v(" "+t._s(n.name))])}))],2)])]),t._m(0)])])])},e=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"right"},[a("span")])}],i={props:{songIfa:Object||Array},data:function(){return{bb:!0}},methods:{play:function(t){this.$emit("play",t)}}},o=i,r=(a("fd0f"),a("2877")),c=Object(r["a"])(o,s,e,!1,null,"b7d20e5a",null);n["a"]=c.exports},fd0f:function(t,n,a){"use strict";a("8e27")}}]);
//# sourceMappingURL=chunk-64d9c2ca.4954499e.js.map